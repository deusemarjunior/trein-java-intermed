server:
  port: 8080

spring:
  application:
    name: podman-actuator-demo

  # PostgreSQL
  datasource:
    url: jdbc:postgresql://${SPRING_DATASOURCE_HOST:localhost}:${SPRING_DATASOURCE_PORT:5432}/demodb
    username: ${SPRING_DATASOURCE_USERNAME:demo}
    password: ${SPRING_DATASOURCE_PASSWORD:demo123}
    driver-class-name: org.postgresql.Driver

  # JPA / Hibernate
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    properties:
      hibernate:
        format_sql: true
    open-in-view: false

  # Flyway
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

  # RabbitMQ
  rabbitmq:
    host: ${SPRING_RABBITMQ_HOST:localhost}
    port: ${SPRING_RABBITMQ_PORT:5672}
    username: ${SPRING_RABBITMQ_USERNAME:guest}
    password: ${SPRING_RABBITMQ_PASSWORD:guest}

  # Redis
  data:
    redis:
      host: ${SPRING_DATA_REDIS_HOST:localhost}
      port: ${SPRING_DATA_REDIS_PORT:6379}

  # Cache
  cache:
    type: redis
    redis:
      time-to-live: 600000
      cache-null-values: false

# ── Spring Boot Actuator ─────────────────────────────────────
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,env,flyway
  endpoint:
    health:
      show-details: always
      show-components: always
  info:
    env:
      enabled: true

# ── Info do Actuator ─────────────────────────────────────────
info:
  app:
    name: Podman Actuator Demo
    description: Demonstração de Podman, Actuator e Logs Estruturados
    version: 1.0.0
    java: 21
    spring-boot: 3.2.2
  team:
    name: Treinamento Java

# ── Logging ──────────────────────────────────────────────────
logging:
  level:
    com.example.demo: DEBUG
    org.hibernate.SQL: DEBUG
